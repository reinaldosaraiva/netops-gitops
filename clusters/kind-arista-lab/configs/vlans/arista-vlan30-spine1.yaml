apiVersion: config.sdcio.dev/v1alpha1
kind: Config
metadata:
  name: arista-vlan30-spine1
  namespace: sdc
  labels:
    config.sdcio.dev/targetName: spine-1-arista
    config.sdcio.dev/targetNamespace: sdc
    vlan: "30"
    purpose: management
spec:
  priority: 30
  config:
  - path: /
    value:
      # 1. VLAN definition
      network-instances:
        network-instance:
        - name: default
          vlans:
            vlan:
            - vlan-id: 30
              config:
                vlan-id: 30
                name: MANAGEMENT
                status: ACTIVE
      # 2. Trunk port to leafs
      interfaces:
        interface:
        - name: Ethernet1
          ethernet:
            switched-vlan:
              config:
                interface-mode: TRUNK
                trunk-vlans:
                - 30
        - name: Ethernet2
          ethernet:
            switched-vlan:
              config:
                interface-mode: TRUNK
                trunk-vlans:
                - 30
